---
title: "Programs"
description: "Campaign configurations that combine audience, flow, schedule, and retry rules"
---

Programs are campaign configurations. They combine an audience, a flow, a schedule, and retry rules into a launchable package. Think of programs as templates that you can execute multiple times.

## What programs define

A program specifies:

| Property        | Purpose                    |
| --------------- | -------------------------- |
| `name`          | Identifies the campaign    |
| `audienceId`    | Who to call                |
| `flowId`        | What to do during the call |
| `startAt`       | When to begin              |
| `stopAt`        | When to stop (optional)    |
| `didPool`       | Which numbers to call from |
| `retryStrategy` | How to handle failed calls |
| `pauseWindows`  | When NOT to make calls     |

## Creating a program

```bash
curl -X POST https://api.gomobile.ma/api/programs \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "January Payment Reminders",
    "audienceId": "audience-uuid",
    "flowId": "flow-uuid",
    "startAt": "2025-01-20T09:00:00Z",
    "stopAt": "2025-01-20T18:00:00Z",
    "didPool": ["+212500000001", "+212500000002"],
    "retryStrategy": {
      "type": "fixed_delay",
      "delayMinutes": 60,
      "maxRetries": 2
    },
    "pauseWindows": {
      "monday": [
        { "startAt": { "hour": 12, "minute": 0 }, "endAt": { "hour": 14, "minute": 0 } }
      ],
      "tuesday": [
        { "startAt": { "hour": 12, "minute": 0 }, "endAt": { "hour": 14, "minute": 0 } }
      ]
    }
  }'
```

Response:

```json
{
  "id": "program-uuid",
  "name": "January Payment Reminders",
  "status": "draft",
  "audienceId": "audience-uuid",
  "flowId": "flow-uuid",
  "startAt": "2025-01-20T09:00:00.000Z",
  "stopAt": "2025-01-20T18:00:00.000Z",
  "didPool": ["+212500000001", "+212500000002"],
  "retryStrategy": {
    "type": "fixed_delay",
    "delayMinutes": 60,
    "maxRetries": 2
  },
  "createdAt": "2025-01-15T10:30:00.000Z"
}
```

## Program status

Programs have three statuses:

| Status     | Description                     |
| ---------- | ------------------------------- |
| `draft`    | Just created, not yet launched  |
| `active`   | Has been launched at least once |
| `archived` | No longer in use                |

## DID pool

The `didPool` is a list of phone numbers that can be used as caller ID. Gomobile rotates through these numbers when placing calls.

Benefits of using multiple DIDs:

- Distribute call volume
- Reduce carrier flagging
- Improve answer rates

Make sure all numbers in your DID pool are allocated to your account.

## Retry strategies

Three options for handling failed calls:

### No retries

```json
{ "type": "none" }
```

Each contact gets one call attempt. Failed calls are marked as failed.

### Fixed delay

```json
{
  "type": "fixed_delay",
  "delayMinutes": 30,
  "maxRetries": 3
}
```

Retry failed calls after a fixed delay. With `maxRetries: 3`, a contact gets up to 4 total attempts (1 initial + 3 retries).

### Scheduled

```json
{
  "type": "scheduled",
  "retryDates": ["2025-01-20T14:00:00Z", "2025-01-21T09:00:00Z"]
}
```

Retry at specific times. The number of dates equals the number of retry attempts.

See [Retry Strategies](/features/retry-strategies) for detailed guidance.

## Pause windows

Define times when calls should NOT be made:

```json
{
  "pauseWindows": {
    "monday": [
      {
        "startAt": { "hour": 12, "minute": 0 },
        "endAt": { "hour": 14, "minute": 0 }
      }
    ],
    "advanced": [
      { "startAt": "2025-12-25T00:00:00Z", "endAt": "2025-12-26T00:00:00Z" }
    ]
  }
}
```

Use cases:

- Lunch breaks
- Outside business hours
- Holidays
- Special events

See [Pause Windows](/features/pause-windows) for more details.

## Launching a program

Programs don't run automatically when created. You explicitly launch them:

```bash
curl -X POST https://api.gomobile.ma/api/programs/PROGRAM_ID/launch \
  -H "x-api-key: YOUR_API_KEY"
```

Response:

```json
{
  "executionId": "execution-uuid"
}
```

This creates an execution that processes the audience. See [Executions](/core-concepts/executions) for details on monitoring.

## Updating programs

Modify program settings:

```bash
curl -X PATCH https://api.gomobile.ma/api/programs/PROGRAM_ID \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Updated Campaign Name",
    "retryStrategy": { "type": "none" }
  }'
```

Changes don't affect already-running executions. They apply to future launches.

## Listing programs

View all programs:

```bash
curl -X GET https://api.gomobile.ma/api/programs \
  -H "x-api-key: YOUR_API_KEY"
```

## Deleting programs

Remove a program:

```bash
curl -X DELETE https://api.gomobile.ma/api/programs/PROGRAM_ID \
  -H "x-api-key: YOUR_API_KEY"
```

This stops any running executions and removes the program.

## Best practices

- **Name clearly** - Include dates or campaign type in the name
- **Test first** - Launch with a small test audience before full deployment
- **Set stop times** - Prevent runaway campaigns
- **Use pause windows** - Respect recipients' time
- **Start with simple retries** - Add complexity as needed

## Related concepts

<CardGroup cols="2">

<Card title="Audiences" icon="users" href="/core-concepts/audiences">
  Who the program calls.
</Card>

<Card title="Flows" icon="diagram-project" href="/core-concepts/flows">
  What happens during the call.
</Card>

<Card title="Executions" icon="chart-line" href="/core-concepts/executions">
  Running instances of programs.
</Card>

<Card title="Retry Strategies" icon="rotate" href="/features/retry-strategies">
  Handling failures.
</Card>

</CardGroup>
